<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>365 Dias com a Palavra</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root { 
            --primary-blue: #1e3a8a; 
            --secondary-blue: #3b82f6; 
            --light-blue: #eff6ff;
            --bg-color: #f1f5f9; 
            --text-dark: #1e293b; 
        }

        body { 
            font-family: 'Poppins', sans-serif; 
            background: var(--bg-color); 
            margin: 0; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh; 
            padding: 15px;
            box-sizing: border-box;
        }

        .container { 
            background: white; 
            width: 100%; 
            max-width: 380px; 
            padding: 25px 20px; 
            border-radius: 24px; 
            box-shadow: 0 20px 40px -10px rgba(30, 58, 138, 0.15); 
            text-align: center; 
            border-top: 8px solid var(--primary-blue);
            box-sizing: border-box;
        }

        .project-title { font-size: 18px; font-weight: 700; color: var(--text-dark); margin-bottom: 20px; }

        .progress-wrapper { background: var(--light-blue); height: 8px; border-radius: 10px; margin-bottom: 20px; overflow: hidden; }
        .progress-fill { background: var(--primary-blue); height: 100%; width: 0%; transition: width 0.8s; }

        .day-label { font-size: 12px; color: #64748b; font-weight: 600; }
        .day-number { font-size: 55px; font-weight: 800; color: var(--primary-blue); margin: 5px 0; }

        .ref-box {
            background: var(--light-blue);
            color: var(--primary-blue);
            padding: 15px;
            border-radius: 16px;
            margin-bottom: 20px;
            font-size: 17px;
            font-weight: 700;
            border: 1px solid #dbeafe;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-read { 
            background: var(--primary-blue); color: white !important; text-decoration: none; 
            display: block; width: 100%; padding: 18px; border-radius: 14px; 
            font-weight: 700; font-size: 16px; text-transform: uppercase;
            box-shadow: 0 8px 15px rgba(30, 58, 138, 0.2); box-sizing: border-box;
        }

        .nav-controls { display: flex; gap: 8px; margin-top: 20px; }
        .nav-btn {
            background: white; border: 1px solid #e2e8f0; color: #64748b;
            padding: 12px 5px; border-radius: 10px; font-weight: 600; font-size: 13px;
            flex: 1; cursor: pointer; font-family: inherit;
        }
        .nav-btn.today { background: var(--light-blue); color: var(--primary-blue); border-color: var(--primary-blue); }

        .tools-section {
            margin-top: 25px; padding-top: 15px; border-top: 1px solid #f1f5f9;
        }
        .tools-title { font-size: 11px; font-weight: 600; color: #94a3b8; margin-bottom: 12px; text-transform: uppercase; }
        
        .tools-grid {
            display: flex; gap: 6px; align-items: center; width: 100%;
        }

        /* Estilo do bot√£o pequeno de In√≠cio */
        .btn-small {
            background: #f1f5f9; border: none; color: #475569;
            height: 45px; padding: 0 10px; border-radius: 10px;
            font-size: 18px; font-weight: 700; cursor: pointer;
            white-space: nowrap; flex-shrink: 0;
            display: flex; align-items: center; justify-content: center;
        }

        .input-wrapper {
            position: relative; flex: 1; min-width: 0;
        }

        .tool-input {
            width: 100%; height: 45px; padding: 0 5px 0 28px;
            border: 1px solid #cbd5e1; border-radius: 10px;
            font-family: inherit; font-size: 12px; color: var(--text-dark);
            box-sizing: border-box; background: white;
            appearance: none; -webkit-appearance: none;
            cursor: pointer;
            text-overflow: ellipsis; /* Evita quebra de texto em telas pequenas */
        }

        .input-icon {
            position: absolute; left: 8px; top: 50%; transform: translateY(-50%);
            pointer-events: none; font-size: 14px; z-index: 10;
        }

        .footer-verse { margin-top: 20px; font-size: 10px; color: #94a3b8; font-style: italic; }
    </style>
</head>
<body>

<div class="container">
    <div class="project-title">365 Dias com a Palavra</div>
    
    <div class="progress-wrapper"><div id="progressBar" class="progress-fill"></div></div>

    <div class="day-label">Dia da Jornada</div>
    <div id="displayDay" class="day-number">1</div>
    <div id="displayRef" class="ref-box">Carregando...</div>
    
    <a href="#" id="linkBible" target="_blank" class="btn-read">Ler na B√≠blia Online</a>

    <div class="nav-controls">
        <button class="nav-btn" onclick="changeDay(-1)">‚Üê Ant.</button>
        <button class="nav-btn today" onclick="goToToday()">Hoje</button>
        <button class="nav-btn" onclick="changeDay(1)">Pr√≥x. ‚Üí</button>
    </div>

    <div class="tools-section">
        <div class="tools-title">Navega√ß√£o R√°pida</div>
        <div class="tools-grid">
            
            <button class="btn-small" onclick="goToDay1()" title="Voltar ao In√≠cio">‚Ü∫</button>

            <div class="input-wrapper">
                <span class="input-icon">#Ô∏è‚É£</span>
                <select id="daySelect" class="tool-input" onchange="goToSpecificDay(this.value)">
                    </select>
            </div>

            <div class="input-wrapper">
                <span class="input-icon">üìÖ</span>
                <input type="date" id="datePicker" class="tool-input" onchange="handleDatePick(this.value)">
            </div>

        </div>
    </div>

    <div class="footer-verse">"L√¢mpada para os meus p√©s √© tua palavra..."<br>(Salmos 119:105)</div>
</div>

<script>
    // Plano de Leitura Cronol√≥gico
    const readingPlan = [
        "G√™nesis 1,2", "G√™nesis 3-5", "G√™nesis 6-9", "G√™nesis 10,11", "G√™nesis 12-15",
        "G√™nesis 16-19", "G√™nesis 20-22", "G√™nesis 23-26", "G√™nesis 27-29", "G√™nesis 30-32",
        "G√™nesis 33-36", "G√™nesis 37-39", "G√™nesis 40-42", "G√™nesis 43-46", "G√™nesis 47-50",
        "J√≥ 1-4", "J√≥ 5-7", "J√≥ 8-10", "J√≥ 11-13", "J√≥ 14-17",
        "J√≥ 18-20", "J√≥ 21-24", "J√≥ 25-27", "J√≥ 28-31", "J√≥ 32-34",
        "J√≥ 35-37", "J√≥ 38-42", "√äxodo 1-4", "√äxodo 5-7", "√äxodo 8-10",
        "√äxodo 11-13", "√äxodo 14-17", "√äxodo 18-20", "√äxodo 21-24", "√äxodo 25-27",
        "√äxodo 28-31", "√äxodo 32-34", "√äxodo 35-37", "√äxodo 38-40", "Lev√≠tico 1-4",
        "Lev√≠tico 5-7", "Lev√≠tico 8-10", "Lev√≠tico 11-13", "Lev√≠tico 14-16", "Lev√≠tico 17-19",
        "Lev√≠tico 20-22, Salmo 95", "Lev√≠tico 23-27", "N√∫meros 1-3", "N√∫meros 4-6", "N√∫meros 7-10",
        "N√∫meros 11-12:16, Salmo 90", "Salmo 91; N√∫meros 12-14", "N√∫meros 15-17", "N√∫meros 18-20", "N√∫meros 21-24",
        "N√∫meros 25-27", "N√∫meros 28-30", "N√∫meros 31-33", "N√∫meros 34-36", "Deuteron√¥mio 1-3",
        "Deuteron√¥mio 4-6", "Deuteron√¥mio 7-9", "Deuteron√¥mio 10-12", "Deuteron√¥mio 13-16", "Deuteron√¥mio 17-19",
        "Deuteron√¥mio 20-22", "Deuteron√¥mio 23-25", "Deuteron√¥mio 26-28", "Deuteron√¥mio 29-31", "Deuteron√¥mio 32-34",
        "Josu√© 1-3", "Josu√© 4-6", "Josu√© 7-9", "Josu√© 10-12", "Josu√© 13-15",
        "Josu√© 16-18", "Josu√© 19-21", "Josu√© 22-24", "Ju√≠zes 1-4", "Ju√≠zes 5-8",
        "Ju√≠zes 9-12", "Ju√≠zes 13-15", "Ju√≠zes 16-18", "Ju√≠zes 19-21", "Rute 1-4",
        "1Samuel 1-4", "1Samuel 5-8", "1Samuel 9-12", "1Samuel 13-16", "1Samuel 17, 18; Salmo 23",
        "1Samuel 19:1-18; Salmo 11, 59", "1Samuel 19:19-24; 20,21; Salmo 56, 142", "1Samuel 22; Salmos 17, 34, 35", "Salmos 52, 109, 140", "Salmo 31, 64; 1Samuel 23:1-29",
        "Salmo 54,22; 1Samuel 24", "Salmos 63,12,57", "Salmos 58, 120; 1Samuel 25", "Salmo 141; 1Samuel 26,27", "1Samuel 28,29,30",
        "1Samuel 31; 2Samuel 1,2", "Salmo 101; 2Samuel 3,4", "2Samuel 5; Salmo 139; 2Samuel 6", "Salmos 78,96", "Salmos 15,24,68",
        "Salmos 132,133", "Salmos 106, 105", "2Samuel 7; Salmos 16,2", "Salmo 110; 2Samuel 8; Salmos 97,98", "Salmos 108,117,118",
        "Salmos 60,9,20", "2Samuel 9,10,11", "2Samuel 12; Salmos 6,32", "Salmos 33,38,39,21", "Salmos 40,41,51",
        "Salmos 103,104; 2Samuel 13", "Salmo 55; 2Samuel 14,15", "2Samuel 16; Salmo 7; 2Samuel 17", "Salmos 3,4,42", "Salmo 43,5,8",
        "Salmo 28,61,62", "Salmo 69,70,71,86", "Salmo 143, 2Samuel 18,19", "Salmos 122, 26, 27", "Salmos 141, 65; 2Samuel 20",
        "2Samuel 21; Salmos 29,30", "Salmos 131, 18; 2Samuel 22-24; 1Reis 1", "Salmos 72, 145; 1Reis 2", "1Reis 3,4,5", "Salmos 99,100, 127, 128",
        "Prov√©rbios 1-4", "Prov√©rbios 5-7", "Prov√©rbios 8-11", "Prov√©rbios 12-15", "Prov√©rbios 16-19",
        "Prov√©rbios 20-23", "Prov√©rbios 24-27", "Prov√©rbios 28-30", "Prov√©rbios 31; Eclesiastes 1,2", "Eclesiastes 3-5",
        "Eclesiastes 6-8", "Eclesiastes 9-11", "Eclesiastes 12; Cantares 1,2", "Cantares 3-5", "Cantares 6-8",
        "1Reis 6-8", "1Reis 9-11", "1Reis 12-14", "1Reis 15-17", "1Reis 18-20",
        "1Reis 21,22; 2Reis 1", "2Reis 2-4", "2Reis 5-7", "2Reis 8-10", "2Reis 11-14:20",
        "Joel 1-3", "2Reis 14:21-25; Jonas 1-4", "2Reis 14:26-29; Am√≥s 1-3", "Am√≥s 4-6", "Am√≥s 7-9",
        "2Reis 15-17", "Os√©ias 1-4", "Os√©ias 5-7", "Os√©ias 8-10", "Os√©ias 11-14",
        "2Reis 18; Salmo 44", "2Reis 19:1-34; Salmo 73", "2Reis 19:35-37; Salmos 92, 93", "Salmos 46, 75, 76", "Isa√≠as 1-3",
        "Isa√≠as 4-6", "Isa√≠as 7-9", "Isa√≠as 10-13", "Isa√≠as 14-17", "Isa√≠as 18-21",
        "Isa√≠as 22-25", "Isa√≠as 26-28", "Isa√≠as 29-30", "Isa√≠as 31-33", "Isa√≠as 34-36",
        "Isa√≠as 37-39", "Isa√≠as 40-42", "Isa√≠as 43-45", "Isa√≠as 46-48", "Isa√≠as 49-51",
        "Isa√≠as 52-54", "Isa√≠as 55-57", "Isa√≠as 58-60", "Isa√≠as 61-63", "Isa√≠as 64-66",
        "Miqu√©ias 1-4", "Miqu√©ias 5-7", "Naum 1-3", "2Reis 20,21", "Sofonias 1-3",
        "Habacuque 1-3", "2Reis 22-23; Salmo 74", "Salmos 79, 94; 2Reis 24:1-16", "Salmo 88; 2Reis 24:17-20, 25", "Obadias; Jeremias 1,2",
        "Jeremias 3-5", "Jeremias 6-8", "Jeremias 9-12", "Jeremias 13; Salmos 13,14", "Salmos 36, 37, 49",
        "Salmos 53, 77, 89", "Salmo 123", "Salmos 25, 50, 67", "Salmos 102, 130", "Jeremias 14-16",
        "Jeremias 17-20", "Jeremias 21-23", "Jeremias 24-26", "Jeremias 27-29", "Jeremias 30-32",
        "Jeremias 33-36", "Jeremias 37-39", "Jeremias 40-42", "Jeremias 43-46", "Jeremias 47-49",
        "Jeremias 50-52", "Lamenta√ß√µes 1-5", "1Cr√¥nicas 1-3", "1Cr√¥nicas 4-6", "1Cr√¥nicas 7-9",
        "1Cr√¥nicas 10-13", "1Cr√¥nicas 14-16", "1Cr√¥nicas 17-19", "1Cr√¥nicas 20-23", "1Cr√¥nicas 24-26",
        "1Cr√¥nicas 27-29", "2Cr√¥nicas 1-3", "2Cr√¥nicas 4-6", "2Cr√¥nicas 7-9", "2Cr√¥nicas 10-13",
        "2Cr√¥nicas 14-16", "2Cr√¥nicas 17-19", "Salmo 82; 2Cr√¥nicas 20; Salmo 83", "Salmos 47, 48, 115", "2Cr√¥nicas 21-24",
        "2Cr√¥nicas 25-27", "2Cr√¥nicas 28, 29; Salmo 80", "2Cr√¥nicas 30-32", "2Cr√¥nicas 33-36", "Ezequiel 1-3",
        "Ezequiel 4-7", "Ezequiel 8-11", "Ezequiel 12-14", "Ezequiel 15-18", "Ezequiel 19-21",
        "Ezequiel 22-24", "Ezequiel 25-27", "Ezequiel 28-30", "Ezequiel 31-33", "Ezequiel 34-36",
        "Ezequiel 37-39", "Ezequiel 40-42", "Ezequiel 43-45", "Ezequiel 46-48", "Daniel 1-3",
        "Daniel 4-6", "Daniel 7-9", "Daniel 10-12", "Esdras 1; Salmos 85,126, 137", "Esdras 2; Salmos 1, 121",
        "Salmo 119", "Esdras 3:1-7; Salmos 107, 111", "Salmos 112, 113, 114", "Esdras 3:8-13; Salmos 66, 84,116", "Salmos 125, 129; Esdras 4; Ageu 1,2",
        "Zacarias 1-3", "Zacarias 4-6", "Zacarias 7-10", "Zacarias 11-14", "Esdras 5, 6:1-15; Salmo 138",
        "Esdras 6:16-22; Salmos 81, 134", "Salmos 135, 136, 146", "Salmo 87; Esdras 7-8", "Esdras 9,10; Ester 1,2", "Salmo 10, 45; Ester 3, 4:1-9",
        "Ester 4:10-17; 5-7", "Ester 8-10; Salmo 124", "Neemias 1-3", "Salmos 147-149", "Neemias 4-6",
        "Salmos 150, 19; Neemias 7", "Neemias 8-10", "Neemias 11-13", "Malaquias 1-4", "Mateus 1-4",
        "Mateus 5-7", "Mateus 8-11", "Mateus 12-15", "Mateus 16-19", "Mateus 20-22",
        "Mateus 23-25", "Mateus 26-28", "Marcos 1-3", "Marcos 4-6", "Marcos 7-10",
        "Marcos 11-13", "Marcos 14-16", "Lucas 1-4", "Lucas 5-8", "Lucas 9-12",
        "Lucas 13-16", "Lucas 17-20", "Lucas 21-24", "Jo√£o 1-4", "Jo√£o 5-8",
        "Jo√£o 9-12", "Jo√£o 13-16", "Jo√£o 17-21", "Atos 1-3", "Atos 4-6",
        "Atos 7-9", "Atos 10-14", "Tiago 1,2", "Tiago 3-5", "G√°latas 1-3",
        "G√°latas 4-6", "Atos 15 a 18:11", "1Tessalonicenses 1-5", "2Tessalonicenses 1-3; Atos 18:12 19:10", "1Cor√≠ntios 1-4",
        "1Cor√≠ntios 5-8", "1Cor√≠ntios 9-12", "1Cor√≠ntios 13-16", "Atos 19:11-20:1; 2Cor√≠ntios 1-3", "2Cor√≠ntios 4-6",
        "2Cor√≠ntios 7-9", "2Cor√≠ntios 10-13; Atos 20:2", "Romanos 1-4", "Romanos 5-6", "Romanos 7-9",
        "Romanos 10-12", "Romanos 13-16", "Atos 20-22", "Atos 23-25", "Atos 26-28",
        "Ef√©sios 1-3", "Ef√©sios 4-6", "Filipenses 1-4", "Colossenses 1-4", "Filemon; 1Pedro 1,2",
        "Hebreus 1-4", "Hebreus 5-7", "Hebreus 8-10", "Hebreus 11-13", "1Tim√≥teo 1-3",
        "1Tim√≥teo 4-6", "Tito 1-3", "2Tim√≥teo 1-4", "1Pedro 3-5", "2Pedro 1-3",
        "1 Jo√£o 1,2", "1 Jo√£o 3-5", "2 Jo√£o; 3 Jo√£o; Judas", "Apocalipse 1-3", "Apocalipse 4-6",
        "Apocalipse 7-9", "Apocalipse 10-12", "Apocalipse 13-15", "Apocalipse 16-18", "Apocalipse 19-22"
    ];

    const bibleMap = {
        "G√™nesis": "GEN", "√äxodo": "EXO", "Exodo": "EXO", "Lev√≠tico": "LEV", "N√∫meros": "NUM", "Deuteron√¥mio": "DEU",
        "Josu√©": "JOS", "Ju√≠zes": "JDG", "Rute": "RUT", "1Samuel": "1SA", "2Samuel": "2SA",
        "1Reis": "1KI", "2Reis": "2KI", "1Cr√¥nicas": "1CH", "2Cr√¥nicas": "2CH",
        "Esdras": "EZR", "Neemias": "NEH", "Ester": "EST", "J√≥": "JOB",
        "Salmos": "PSA", "Salmo": "PSA", "Prov√©rbios": "PRO", "Eclesiastes": "ECC", "Cantares": "SNG",
        "Isa√≠as": "ISA", "Jeremias": "JER", "Lamenta√ß√µes": "LAM", "Ezequiel": "EZK", "Daniel": "DAN",
        "Os√©ias": "HOS", "Joel": "JOL", "Am√≥s": "AMO", "Obadias": "OBA", "Jonas": "JON", "Miqu√©ias": "MIC",
        "Naum": "NAM", "Habacuque": "HAB", "Sofonias": "ZEP", "Ageu": "HAG", "Zacarias": "ZEC", "Malaquias": "MAL",
        "Mateus": "MAT", "Marcos": "MRK", "Lucas": "LUK", "Jo√£o": "JHN", "Atos": "ACT",
        "Romanos": "ROM", "1Cor√≠ntios": "1CO", "2Cor√≠ntios": "2CO", "G√°latas": "GAL", "Ef√©sios": "EPH",
        "Filipenses": "PHP", "Colossenses": "COL", "1Tessalonicenses": "1TH", "2Tessalonicenses": "2TH",
        "1Tim√≥teo": "1TI", "2Tim√≥teo": "2TI", "Tito": "TIT", "Filemom": "PHM", "Filemon": "PHM",
        "Hebreus": "HEB", "Tiago": "JAS", "1Pedro": "1PE", "2Pedro": "2PE",
        "1Jo√£o": "1JO", "1 Jo√£o": "1JO", "2Jo√£o": "2JO", "2 Jo√£o": "2JO", "3Jo√£o": "3JO", "3 Jo√£o": "3JO",
        "Judas": "JUD", "Apocalipse": "REV"
    };

    let currentDay = getDayOfYear();

    function getDayOfYear() {
        const now = new Date();
        const start = new Date(now.getFullYear(), 0, 0);
        let day = Math.floor((now - start) / 86400000);
        if(day < 1) day = 1;
        if(day > 365) day = 365;
        return day;
    }

    function calculateReading(day) {
        let refText = readingPlan[day - 1];
        if (!refText) refText = "Fim da Leitura";
        
        let url = "https://www.bible.com/pt/bible/129/GEN.1"; 
        
        try {
            const parts = refText.split(/[\s,;]+/); 
            let bookCode = "GEN";
            let chapter = "1";
            let found = false;

            for (let i = 0; i < parts.length; i++) {
                let word = parts[i].replace(/[^a-zA-Z√°√†√¢√£√©√®√™√≠√Ø√≥√¥√µ√∂√∫√ß√±√Å√Ä√Ç√É√â√à√ä√ç√è√ì√î√ï√ñ√ö√á√ë0-9]/g, "");
                let possibleBook = bibleMap[word];

                if (!possibleBook && i < parts.length - 1) {
                     let doubleWord = word + " " + parts[i+1];
                     if (bibleMap[doubleWord]) {
                         possibleBook = bibleMap[doubleWord];
                         i++; 
                     }
                }

                if (possibleBook) {
                    bookCode = possibleBook;
                    for(let j=i+1; j < parts.length; j++) {
                        let potentialChap = parts[j].match(/\d+/);
                        if (potentialChap) {
                            chapter = potentialChap[0];
                            found = true;
                            break;
                        }
                    }
                    if(found) break;
                }
            }
            url = `https://www.bible.com/pt/bible/129/${bookCode}.${chapter}`;
        } catch (e) { console.error(e); }

        return { refText, url };
    }

    function initDaySelector() {
        const select = document.getElementById('daySelect');
        for (let i = 1; i <= 365; i++) {
            const option = document.createElement('option');
            option.value = i;
            option.text = `Dia ${i}`;
            select.appendChild(option);
        }
    }

    function updateUI() {
        const data = calculateReading(currentDay);
        document.getElementById('displayDay').innerText = currentDay;
        document.getElementById('displayRef').innerText = data.refText;
        document.getElementById('linkBible').href = data.url;
        document.getElementById('progressBar').style.width = (currentDay / 365 * 100) + "%";
        
        // Sincroniza o Select
        document.getElementById('daySelect').value = currentDay;
    }

    function changeDay(n) { 
        currentDay += n; 
        if (currentDay > 365) currentDay = 1; 
        else if (currentDay < 1) currentDay = 365; 
        updateUI(); 
    }

    function goToToday() { currentDay = getDayOfYear(); updateUI(); }
    
    function goToSpecificDay(val) {
        currentDay = parseInt(val);
        updateUI();
    }
    
    function goToDay1() {
        currentDay = 1;
        updateUI();
    }

    function handleDatePick(dateStr) {
        if (!dateStr) return;
        const parts = dateStr.split('-');
        const targetDate = new Date(parseInt(parts[0]), parseInt(parts[1]) - 1, parseInt(parts[2]), 12, 0, 0);
        const startOfYear = new Date(targetDate.getFullYear(), 0, 0, 12, 0, 0);
        let dayOfYear = Math.floor((targetDate - startOfYear) / (1000 * 60 * 60 * 24));
        if (dayOfYear > 365) dayOfYear = 365;
        if (dayOfYear < 1) dayOfYear = 1;
        currentDay = dayOfYear;
        updateUI();
    }

    // Inicializa√ß√£o
    initDaySelector();
    updateUI();
</script>
</body>
</html>